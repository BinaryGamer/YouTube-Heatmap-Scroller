(()=>{"use strict";function t(){function t(){const t=document.getElementsByClassName("ytp-heat-map-path");if(0==t.length)return null;1!==t.length&&console.log("Haven't implemented Chapters yet.");let e=t[0].getAttribute("d");return"object"==typeof e?e:e.slice(2)}function e(t){const e=t.split(" C "),n=[];return e.forEach((t=>{let e=t.split(" "),i="";i=1===e.length?e[0]:e[1];let o=function(t){let e=t.split(","),n=100-Math.floor(+e[1]);return{position:+e[0],height:n}}(i);n.push(o)})),n}function n(){const t=document.getElementsByClassName("video-stream")[0];return"play"in t==0?null:t.currentTime}let i=null;const o=document.createElement("button"),s=document.createElement("button"),l=document.createElement("button");l.classList.add("ytp-button"),l.title="Next local maximum",l.role="button",o.classList.add("ytp-button"),o.title="Previous local maximum",o.role="button",s.classList.add("ytp-button"),s.title="Go to most replayed part",s.role="button";const r=document.createElement("svg");r.innerHTML='<svg width="100%" viewBox="0 0 36 36" version="1.1" height="100%"><use class="ytp-svg-shadow" xlink:href="#ytp-id-5486315"></use><path class="ytp-svg-fill" d="M 11,24 12,23 13,22 13,21 14,20 14,17 15,16 15,14 16,13 16,12 17,11 19,11 20,12 20,13 21,14 21,15 22,16 22,20 23,21 23,22 24,23 25,24 z" id="ytp-id-5486315"></path></svg>'.trim();const c=r.firstChild;c instanceof Node&&s.appendChild(c);const a=document.createElement("svg");a.innerHTML='<svg width="100%" viewBox="0 0 36 36" version="1.1" height="100%"><use class="ytp-svg-shadow" xlink:href="#ytp-id-5486316"></use><path class="ytp-svg-fill" d="M 19,10 17,10 10,17 10,18 17,25 19,25 19,24 14,19 25,19 26,18 26,17 25,16 14,16 19,11 z" id="ytp-id-5486316"></path></svg>'.trim();const d=a.firstChild;d instanceof Node&&o.appendChild(d);const h=document.createElement("svg");h.innerHTML='<svg width="100%" viewBox="0 0 36 36" version="1.1" height="100%"><use class="ytp-svg-shadow" xlink:href="#ytp-id-5486314"></use><path class="ytp-svg-fill" d="M 17,10 19,10 26,17 26,18 19,25 17,25 17,24 22,19 11,19 10,18 10,17 11,16 22,16 17,11 z" id="ytp-id-5486314"></path></svg>'.trim();const u=h.firstChild;u instanceof Node&&l.appendChild(u);const p=document.getElementsByClassName("ytp-left-controls")[0];l.onclick=function(){const o=t();if(o!==i&&(i=o),"object"==typeof i)return;let s=e(i),l=n();if("string"==typeof i&&"number"==typeof l)for(let t=1;t<s.length-1;t++){let e=s[t],n=s[t-1],i=s[t+1];if(e.height>n.height&&e.height>i.height){const t=document.getElementsByClassName("video-stream")[0];if("duration"in t==0)return 0;const n=t;let i=n.duration,o=e.position/1e3*i;if(o>l){n.currentTime=o;break}}}},o.onclick=function(){const o=t();if(o!==i&&(i=o),"object"==typeof i)return;let s=e(i),l=n();if("string"==typeof i&&"number"==typeof l){let t=0;for(let e=1;e<s.length-1;e++){let n=s[e],i=s[e-1],o=s[e+1];if(n.height>i.height&&n.height>o.height){const e=document.getElementsByClassName("video-stream")[0];if("duration"in e==0)return 0;const i=e;let o=i.duration,s=n.position/1e3*o;if(s>=l-1){i.currentTime=t;break}t=s}}}},s.onclick=function(){let o=0,s=0;const l=t();if(l!==i&&(i=l),"object"==typeof i)return;let r=e(i),c=n();if("string"==typeof i&&"number"==typeof c)for(let t=1;t<r.length-1;t++){let e=r[t],n=r[t-1],i=r[t+1];if(e.height>n.height&&e.height>i.height){const t=document.getElementsByClassName("video-stream")[0];if("duration"in t==0)return 0;let n=t.duration,i=e.position/1e3*n;e.height>s&&(o=i,s=e.height)}}const a=document.getElementsByClassName("video-stream")[0];if("duration"in a==0)return 0;a.currentTime=o},p.appendChild(o),p.appendChild(s),p.appendChild(l)}chrome.action.onClicked.addListener((e=>{chrome.scripting.executeScript({target:{tabId:e.id?e.id:-1},func:t}).then()}))})();
//# sourceMappingURL=navigator.js.map